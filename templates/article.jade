
extends layout

block prepend head
  link(rel='amphtml', href=locals.url + '/amp' + page.url)
  meta(name='twitter:card', content='summary')
  meta(name='twitter:site', content='michaelmior')

  meta(property='og:title', content=page.title)
  meta(property='og:description', content=page.metadata.summary)
  meta(property='og:type', content='article')
  meta(property='og:site_name', content='Michael Mior')
  meta(property='fb:profile_id', content='227200130')
  meta(property='article:publisher', content='227200130')
  meta(property='article:author', content='227200130')
  meta(property='article:published_time', content=env.helpers.toISO8601(page.date))

  script(type='application/ld+json')
    :json
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "#{page.metadata.title}",
        "name": "#{page.metadata.title}",
        "datePublished": "#{env.helpers.toISO8601(page.date)}",
        "dateModified": "#{env.helpers.toISO8601(page.metadata.modified || page.date)}",
        "author": {
          "@type": "Person",
          "name": "Michael Mior"
        },
        "publisher": {
          "@type": "Organization",
          "name": "Michael Mior",
          "logo": {
            "@type": "ImageObject",
            "url": "#{locals.url}/img/logo-full.png",
            "width": 600,
            "height": 48
          }
        },
        "mainEntityOfPage": {
          "@type":"WebPage",
          "@id":"#{page.url}"
        }
      }

block append vars
  - bodyclass = 'article-detail'

block prepend title
  | #{ page.title + ' - '}

block header
  h1= page.title

block content
  article.article
    section.content!= typogr(page.html).typogrify()
    | <div id="disqus_thread"></div>
    | <script>
    | var disqus_config = function () {
    | this.page.url = '#{locals.url}#{page.url}';
    | this.page.identifier = '#{/([^\/]+)\/?$/.exec(page.url)[1]}';
    | };
    | (function() { // DON'T EDIT BELOW THIS LINE
    | var d = document, s = d.createElement('script');
    | 
    | s.src = '//michaelmior.disqus.com/embed.js';
    | 
    | s.setAttribute('data-timestamp', +new Date());
    | (d.head || d.body).appendChild(s);
    | })();
    | </script>
    | <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

block prepend footer
  div.nav
    a(href=contents.index.url) Â« Blog archive
